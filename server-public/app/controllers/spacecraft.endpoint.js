const RealtimeController = require("../controllers/realtime.controller")
const TelemetrySeqModel = require('../models/telemetry.seqModel')

class SpacecraftEndpoint {

  constructor(){}

  onMeasurementsReceived = (currentMeasurements) => {
    // executes on every point generated by spacecraft
    // store data in database:
    TelemetrySeqModel.create(currentMeasurements)
      .then((results) => {
        // console.log('RES',results)
      })
      .catch(err => {
        console.log(err)
      })

    RealtimeController.messageClients(currentMeasurements)
  }

  
 
}

module.exports = SpacecraftEndpoint